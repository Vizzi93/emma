# ══════════════════════════════════════════════════════════════════════════════
# eMMA Configuration
# ══════════════════════════════════════════════════════════════════════════════
# Kopiere diese Datei nach .env und passe die Werte an:
#   cp .env.example .env
#   nano .env
# ══════════════════════════════════════════════════════════════════════════════

# ──────────────────────────────────────────────────────────────────────────────
# ENVIRONMENT
# ──────────────────────────────────────────────────────────────────────────────
# development | staging | production
ENVIRONMENT=development

# Debug-Modus (nur für Entwicklung!)
DEBUG=true

# ──────────────────────────────────────────────────────────────────────────────
# DATABASE (PostgreSQL)
# ──────────────────────────────────────────────────────────────────────────────
POSTGRES_USER=emma
POSTGRES_PASSWORD=emma_dev_password_change_me
POSTGRES_DB=emma
POSTGRES_HOST=db
POSTGRES_PORT=5432

# Vollständige Database URL (für Backend)
# Format: postgresql+asyncpg://USER:PASSWORD@HOST:PORT/DATABASE
DATABASE_URL=postgresql+asyncpg://emma:emma_dev_password_change_me@db:5432/emma

# ──────────────────────────────────────────────────────────────────────────────
# SECURITY - JWT
# ──────────────────────────────────────────────────────────────────────────────
# ⚠️ WICHTIG: Generiere einen sicheren Schlüssel für Production!
#    openssl rand -hex 32
JWT_SECRET_KEY=change_me_to_a_secure_random_string_at_least_32_characters

# JWT Algorithmus (HS256 empfohlen)
JWT_ALGORITHM=HS256

# Token-Gültigkeit
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7

# ──────────────────────────────────────────────────────────────────────────────
# CORS (Cross-Origin Resource Sharing)
# ──────────────────────────────────────────────────────────────────────────────
# Komma-getrennte Liste erlaubter Origins
# Entwicklung:
ALLOWED_ORIGINS=http://localhost:5173,http://localhost:3000,http://127.0.0.1:5173

# Production (anpassen!):
# ALLOWED_ORIGINS=https://emma.deine-domain.de

# ──────────────────────────────────────────────────────────────────────────────
# DOCKER (Optional - für Container-Monitoring)
# ──────────────────────────────────────────────────────────────────────────────
# Docker Socket URL
# Linux: unix:///var/run/docker.sock
# Windows: npipe:////./pipe/docker_engine
# Remote: tcp://docker-host:2375
DOCKER_URL=unix:///var/run/docker.sock

# ──────────────────────────────────────────────────────────────────────────────
# RATE LIMITING
# ──────────────────────────────────────────────────────────────────────────────
# API Rate Limit (Requests pro Minute)
RATE_LIMIT_PER_MINUTE=60

# Auth Rate Limit (Login-Versuche pro Minute)
AUTH_RATE_LIMIT_PER_MINUTE=5

# ──────────────────────────────────────────────────────────────────────────────
# LOGGING
# ──────────────────────────────────────────────────────────────────────────────
# Log Level: DEBUG | INFO | WARNING | ERROR | CRITICAL
LOG_LEVEL=INFO

# Log Format: json | console
LOG_FORMAT=console

# ──────────────────────────────────────────────────────────────────────────────
# HEALTH CHECK SCHEDULER
# ──────────────────────────────────────────────────────────────────────────────
# Maximale gleichzeitige Checks
MAX_CONCURRENT_CHECKS=50

# Scheduler Check-Intervall (Sekunden)
SCHEDULER_INTERVAL=10

# ──────────────────────────────────────────────────────────────────────────────
# AUDIT LOG
# ──────────────────────────────────────────────────────────────────────────────
# Audit Log Aufbewahrung (Tage)
AUDIT_RETENTION_DAYS=90

# ──────────────────────────────────────────────────────────────────────────────
# FRONTEND (für Docker Build)
# ──────────────────────────────────────────────────────────────────────────────
# Backend API URL (aus Sicht des Browsers)
VITE_API_URL=http://localhost:8000

# WebSocket URL
VITE_WS_URL=ws://localhost:8000

# ══════════════════════════════════════════════════════════════════════════════
# PRODUCTION CHECKLIST
# ══════════════════════════════════════════════════════════════════════════════
# [ ] ENVIRONMENT=production
# [ ] DEBUG=false
# [ ] JWT_SECRET_KEY mit openssl rand -hex 32 generiert
# [ ] POSTGRES_PASSWORD sicher gesetzt
# [ ] ALLOWED_ORIGINS auf deine Domain(s) gesetzt
# [ ] LOG_FORMAT=json für strukturierte Logs
# [ ] SSL/TLS Zertifikate konfiguriert
# [ ] Firewall konfiguriert
# [ ] Backups eingerichtet
# ══════════════════════════════════════════════════════════════════════════════
